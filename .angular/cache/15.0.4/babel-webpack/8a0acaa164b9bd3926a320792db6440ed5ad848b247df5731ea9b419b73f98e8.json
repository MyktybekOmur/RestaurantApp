{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./cart.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./cart.page.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { CartService } from 'src/app/services/cart.service';\nlet CartPage = class CartPage {\n  constructor(cartService, alertCtrl) {\n    this.cartService = cartService;\n    this.alertCtrl = alertCtrl;\n  }\n  ngOnInit() {\n    this.cartItems$ = this.cartService.getCart();\n    this.totalAmount$ = this.cartService.getTotalAmount();\n  }\n  onIncrease(item) {\n    this.cartService.changeQty(1, item.id);\n  }\n  onDecrease(item) {\n    if (item.quantity === 1) this.removeFromCart(item);else this.cartService.changeQty(-1, item.id);\n  }\n  submit() {\n    this.cartService.removeAll();\n  }\n  removeFromCart(item) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertCtrl.create({\n        header: 'Remove',\n        message: 'Are you sure you want to remove?',\n        buttons: [{\n          text: 'Yes',\n          handler: () => this.cartService.removeItem(item.id)\n        }, {\n          text: 'No'\n        }]\n      });\n      alert.present();\n    });\n  }\n};\nCartPage.ctorParameters = () => [{\n  type: CartService\n}, {\n  type: AlertController\n}];\nCartPage = __decorate([Component({\n  selector: 'app-cart',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], CartPage);\nexport { CartPage };","map":{"version":3,"mappings":";;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,eAAe,QAAQ,gBAAgB;AAGhD,SAASC,WAAW,QAAQ,+BAA+B;AAOpD,IAAMC,QAAQ,GAAd,MAAMA,QAAQ;EAInBC,YACUC,WAAwB,EACxBC,SAA0B;IAD1B,gBAAW,GAAXD,WAAW;IACX,cAAS,GAATC,SAAS;EAChB;EAEHC,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,WAAW,CAACI,OAAO,EAAE;IAC5C,IAAI,CAACC,YAAY,GAAG,IAAI,CAACL,WAAW,CAACM,cAAc,EAAE;EACvD;EAEAC,UAAU,CAACC,IAAc;IACvB,IAAI,CAACR,WAAW,CAACS,SAAS,CAAC,CAAC,EAAED,IAAI,CAACE,EAAE,CAAC;EACxC;EAEAC,UAAU,CAACH,IAAc;IACvB,IAAIA,IAAI,CAACI,QAAQ,KAAK,CAAC,EAAE,IAAI,CAACC,cAAc,CAACL,IAAI,CAAC,CAAC,KAC9C,IAAI,CAACR,WAAW,CAACS,SAAS,CAAC,CAAC,CAAC,EAAED,IAAI,CAACE,EAAE,CAAC;EAC9C;EAGAI,MAAM;IACJ,IAAI,CAACd,WAAW,CAACe,SAAS,EAAE;EAC9B;EAEMF,cAAc,CAACL,IAAc;;MACjC,MAAMQ,KAAK,GAAG,MAAM,IAAI,CAACf,SAAS,CAACgB,MAAM,CAAC;QACxCC,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE,kCAAkC;QAC3CC,OAAO,EAAE,CACP;UACEC,IAAI,EAAE,KAAK;UACXC,OAAO,EAAE,MAAM,IAAI,CAACtB,WAAW,CAACuB,UAAU,CAACf,IAAI,CAACE,EAAE;SACnD,EACD;UACEW,IAAI,EAAE;SACP;OAEJ,CAAC;MAEFL,KAAK,CAACQ,OAAO,EAAE;IACjB,CAAC;;;;;;;;AA5CU1B,QAAQ,eALpBH,SAAS,CAAC;EACT8B,QAAQ,EAAE,UAAU;EACpBC,8BAA+B;;CAEhC,CAAC,GACW5B,QAAQ;SAARA,QAAQ","names":["Component","AlertController","CartService","CartPage","constructor","cartService","alertCtrl","ngOnInit","cartItems$","getCart","totalAmount$","getTotalAmount","onIncrease","item","changeQty","id","onDecrease","quantity","removeFromCart","submit","removeAll","alert","create","header","message","buttons","text","handler","removeItem","present","selector","template"],"sourceRoot":"","sources":["/Users/myktybekomurbekov/Documents/projects/NodeJS/RestaurantApp/src/app/screens/cart/cart.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\nimport { CartItem } from 'src/app/models/cart-item.model';\nimport { CartService } from 'src/app/services/cart.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage implements OnInit {\n  cartItems$: Observable<CartItem[]>;\n  totalAmount$: Observable<number>;\n\n  constructor(\n    private cartService: CartService,\n    private alertCtrl: AlertController\n  ) {}\n\n  ngOnInit() {\n    this.cartItems$ = this.cartService.getCart();\n    this.totalAmount$ = this.cartService.getTotalAmount();\n  }\n\n  onIncrease(item: CartItem) {\n    this.cartService.changeQty(1, item.id);\n  }\n\n  onDecrease(item: CartItem) {\n    if (item.quantity === 1) this.removeFromCart(item);\n    else this.cartService.changeQty(-1, item.id);\n  }\n\n\n  submit(){\n    this.cartService.removeAll()\n  }\n\n  async removeFromCart(item: CartItem) {\n    const alert = await this.alertCtrl.create({\n      header: 'Remove',\n      message: 'Are you sure you want to remove?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => this.cartService.removeItem(item.id),\n        },\n        {\n          text: 'No',\n        },\n      ],\n    });\n\n    alert.present();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}