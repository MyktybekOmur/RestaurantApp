{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nlet CartService = class CartService {\n  constructor() {\n    this.items$ = new BehaviorSubject([{\n      id: 1,\n      name: 'Sea Food',\n      price: 12,\n      image: 'assets/images/foods/seafood-dishes.png',\n      quantity: 1\n    }]);\n  }\n  getCart() {\n    return this.items$.asObservable();\n  }\n  addToCart(newItem) {\n    this.items$.next([...this.items$.getValue(), newItem]);\n  }\n  removeItem(id) {\n    this.items$.next(this.items$.getValue().filter(item => item.id !== id));\n  }\n  changeQty(quantity, id) {\n    const items = this.items$.getValue();\n    const index = items.findIndex(item => item.id === id);\n    items[index].quantity += quantity;\n    this.items$.next(items);\n  }\n  getTotalAmount() {\n    return this.items$.pipe(map(items => {\n      let total = 0;\n      items.forEach(item => {\n        total += item.quantity * item.price;\n      });\n      return total;\n    }));\n  }\n};\nCartService = __decorate([Injectable({\n  providedIn: 'root'\n})], CartService);\nexport { CartService };","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,eAAe,QAAQ,MAAM;AAEtC,SAASC,GAAG,QAAQ,gBAAgB;AAK7B,IAAMC,WAAW,GAAjB,MAAMA,WAAW;EAAjBC;IACG,WAAM,GAAG,IAAIH,eAAe,CAAa,CAC/C;MACEI,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,UAAU;MAChBC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,wCAAwC;MAC/CC,QAAQ,EAAE;KACX,CACF,CAAC;EAiCJ;EA/BEC,OAAO;IACL,OAAO,IAAI,CAACC,MAAM,CAACC,YAAY,EAAE;EACnC;EAEAC,SAAS,CAACC,OAAiB;IACzB,IAAI,CAACH,MAAM,CAACI,IAAI,CAAC,CAAC,GAAG,IAAI,CAACJ,MAAM,CAACK,QAAQ,EAAE,EAAEF,OAAO,CAAC,CAAC;EACxD;EAEAG,UAAU,CAACZ,EAAU;IACnB,IAAI,CAACM,MAAM,CAACI,IAAI,CAAC,IAAI,CAACJ,MAAM,CAACK,QAAQ,EAAE,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACd,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC3E;EAEAe,SAAS,CAACX,QAAgB,EAAEJ,EAAU;IACpC,MAAMgB,KAAK,GAAG,IAAI,CAACV,MAAM,CAACK,QAAQ,EAAE;IACpC,MAAMM,KAAK,GAAGD,KAAK,CAACE,SAAS,CAAEJ,IAAI,IAAKA,IAAI,CAACd,EAAE,KAAKA,EAAE,CAAC;IACvDgB,KAAK,CAACC,KAAK,CAAC,CAACb,QAAQ,IAAIA,QAAQ;IACjC,IAAI,CAACE,MAAM,CAACI,IAAI,CAACM,KAAK,CAAC;EACzB;EAEAG,cAAc;IACZ,OAAO,IAAI,CAACb,MAAM,CAACc,IAAI,CACrBvB,GAAG,CAAEmB,KAAK,IAAI;MACZ,IAAIK,KAAK,GAAG,CAAC;MACbL,KAAK,CAACM,OAAO,CAAER,IAAI,IAAI;QACrBO,KAAK,IAAIP,IAAI,CAACV,QAAQ,GAAGU,IAAI,CAACZ,KAAK;MACrC,CAAC,CAAC;MAEF,OAAOmB,KAAK;IACd,CAAC,CAAC,CACH;EACH;;AAzCWvB,WAAW,eAHvBH,UAAU,CAAC;EACV4B,UAAU,EAAE;CACb,CAAC,GACWzB,WAAW;SAAXA,WAAW","names":["Injectable","BehaviorSubject","map","CartService","constructor","id","name","price","image","quantity","getCart","items$","asObservable","addToCart","newItem","next","getValue","removeItem","filter","item","changeQty","items","index","findIndex","getTotalAmount","pipe","total","forEach","providedIn"],"sourceRoot":"","sources":["/Users/myktybekomurbekov/Documents/projects/NodeJS/RestaurantApp/src/app/services/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CartItem } from '../models/cart-item.model';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CartService {\n  private items$ = new BehaviorSubject<CartItem[]>([\n    {\n      id: 1,\n      name: 'Sea Food',\n      price: 12,\n      image: 'assets/images/foods/seafood-dishes.png',\n      quantity: 1,\n    },\n  ]);\n\n  getCart() {\n    return this.items$.asObservable();\n  }\n\n  addToCart(newItem: CartItem) {\n    this.items$.next([...this.items$.getValue(), newItem]);\n  }\n\n  removeItem(id: number) {\n    this.items$.next(this.items$.getValue().filter((item) => item.id !== id));\n  }\n\n  changeQty(quantity: number, id: number) {\n    const items = this.items$.getValue();\n    const index = items.findIndex((item) => item.id === id);\n    items[index].quantity += quantity;\n    this.items$.next(items);\n  }\n\n  getTotalAmount() {\n    return this.items$.pipe(\n      map((items) => {\n        let total = 0;\n        items.forEach((item) => {\n          total += item.quantity * item.price;\n        });\n\n        return total;\n      })\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}