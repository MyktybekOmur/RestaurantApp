{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./add-product.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./add-product.component.scss?ngResource\";\nimport { Component, Input } from '@angular/core';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular';\nimport { ProductsService } from 'src/app/services/products/products.service';\nlet AddProductComponent = class AddProductComponent {\n  constructor(modalCtrl, loadingController, productApi, alertController) {\n    this.modalCtrl = modalCtrl;\n    this.loadingController = loadingController;\n    this.productApi = productApi;\n    this.alertController = alertController;\n    this.item = {\n      title: '',\n      price: '',\n      description: '',\n      is_active: false\n    };\n    this.form = {\n      title: '',\n      price: '',\n      description: '',\n      image: '',\n      is_active: false\n    };\n  }\n  ngOnInit() {}\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n  confirm() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const body = {\n        title: this.form.title,\n        price: Number(this.form.price),\n        description: this.form.description,\n        image: '',\n        is_active: this.form.is_active\n      };\n      const loading = yield this.loadingController.create();\n      yield loading.present();\n      loading.dismiss();\n      if (!this.result) {\n        const alert = yield this.alertController.create({\n          header: 'Upload failed',\n          message: 'There was a problem uploading your avatar.',\n          buttons: ['OK']\n        });\n        yield alert.present();\n      } else {\n        this.cancel();\n      }\n    });\n  }\n};\nAddProductComponent.ctorParameters = () => [{\n  type: ModalController\n}, {\n  type: LoadingController\n}, {\n  type: ProductsService\n}, {\n  type: AlertController\n}];\nAddProductComponent.propDecorators = {\n  type: [{\n    type: Input\n  }],\n  item: [{\n    type: Input\n  }]\n};\nAddProductComponent = __decorate([Component({\n  selector: 'app-add-product',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], AddProductComponent);\nexport { AddProductComponent };","map":{"version":3,"mappings":";;;AAAA,SAASA,SAAS,EAAEC,KAAK,QAAgB,eAAe;AAExD,SAASC,eAAe,EAAEC,iBAAiB,EAAEC,eAAe,QAAQ,gBAAgB;AACpF,SAASC,eAAe,QAAQ,4CAA4C;AAOrE,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAmB9BC,YAAoBC,SAA0B,EACpCC,iBAAoC,EACpCC,UAA0B,EAC1BC,eAAgC;IAHtB,cAAS,GAATH,SAAS;IACnB,sBAAiB,GAAjBC,iBAAiB;IACjB,eAAU,GAAVC,UAAU;IACV,oBAAe,GAAfC,eAAe;IAlBhB,SAAI,GAAQ;MACnBC,KAAK,EAAC,EAAE;MACRC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,SAAS,EAAC;KACX;IACD,SAAI,GAAQ;MACVH,KAAK,EAAC,EAAE;MACRC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdE,KAAK,EAAC,EAAE;MACRD,SAAS,EAAC;KACX;EAM8C;EAE/CE,QAAQ,IAGR;EAEAC,MAAM;IACJ,OAAO,IAAI,CAACV,SAAS,CAACW,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;EAC/C;EAEMC,OAAO;;MACX,MAAMC,IAAI,GAAG;QACXT,KAAK,EAAC,IAAI,CAACU,IAAI,CAACV,KAAK;QACrBC,KAAK,EAACU,MAAM,CAAC,IAAI,CAACD,IAAI,CAACT,KAAK,CAAC;QAC7BC,WAAW,EAAC,IAAI,CAACQ,IAAI,CAACR,WAAW;QACjCE,KAAK,EAAC,EAAE;QACRD,SAAS,EAAC,IAAI,CAACO,IAAI,CAACP;OACrB;MAED,MAAMS,OAAO,GAAG,MAAM,IAAI,CAACf,iBAAiB,CAACgB,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MAGvBF,OAAO,CAACL,OAAO,EAAE;MAEjB,IAAI,CAAC,IAAI,CAACQ,MAAM,EAAE;QAChB,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACjB,eAAe,CAACc,MAAM,CAAC;UAC9CI,MAAM,EAAE,eAAe;UACvBC,OAAO,EAAE,4CAA4C;UACrDC,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAMH,KAAK,CAACF,OAAO,EAAE;OACtB,MAAM;QACL,IAAI,CAACR,MAAM,EAAE;;IAGjB,CAAC;;;;;;;;;;;;;;UAxDAjB;EAAK;;UACLA;EAAK;;AAJKK,mBAAmB,eAL/BN,SAAS,CAAC;EACTgC,QAAQ,EAAE,iBAAiB;EAC3BC,8BAA2C;;CAE5C,CAAC,GACW3B,mBAAmB;SAAnBA,mBAAmB","names":["Component","Input","AlertController","LoadingController","ModalController","ProductsService","AddProductComponent","constructor","modalCtrl","loadingController","productApi","alertController","title","price","description","is_active","image","ngOnInit","cancel","dismiss","confirm","body","form","Number","loading","create","present","result","alert","header","message","buttons","selector","template"],"sourceRoot":"","sources":["/Users/myktybekomurbekov/Documents/projects/NodeJS/RestaurantApp/src/app/modals/add-product/add-product.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular';\nimport { ProductsService } from 'src/app/services/products/products.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.scss'],\n})\nexport class AddProductComponent implements OnInit  {\n\n  name: string;\n  @Input() type: boolean;\n  @Input() item: any = {\n    title:'',\n    price:'',\n    description:'',\n    is_active:false\n  };\n  form: any = {\n    title:'',\n    price:'',\n    description:'',\n    image:'',\n    is_active:false\n  }\n  result: any;\n\n  constructor(private modalCtrl: ModalController,\n    private loadingController: LoadingController,\n    private productApi:ProductsService,\n    private alertController: AlertController,) { }\n\n  ngOnInit(): void {\n\n\n  }\n\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  async confirm() {\n    const body = {\n      title:this.form.title,\n      price:Number(this.form.price),\n      description:this.form.description,\n      image:'',\n      is_active:this.form.is_active\n    }\n\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n\n    loading.dismiss();\n\n    if (!this.result) {\n      const alert = await this.alertController.create({\n        header: 'Upload failed',\n        message: 'There was a problem uploading your avatar.',\n        buttons: ['OK'],\n      });\n      await alert.present();\n    } else {\n      this.cancel();\n    }\n    \n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}